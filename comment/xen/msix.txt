nvme_reset_work()
 -> nvme_setup_io_queues()
     -> pci_alloc_irq_vectors()
     -> queue_request_irq(adminq)
     -> nvme_create_io_queues()
	 -> nvme_create_queue()
	     -> queue_request_irq(nvmeq)


pci_alloc_irq_vectors()
 -> __pci_enable_msix_range()
     -> __pci_enable_msix()
	 -> msix_capability_init()
	     -> pci_msi_setup_msi_irqs()
	         -> x86_msi.setup_msi_irqs = xen_initdom_setup_msi_irqs()
	             -> PHYSDEVOP_map_pirq
		         申请pirq (xen hypervisor申请对应的vector)
	             -> xen_bind_pirq_msi_to_irq()
	                 申请irq, 设置info_for_irq(irq)->u.pirq.pirq = pirq

-> request_irq()
    -> request_threaded_irq()
        -> __setup_irq()
            -> irq_startup()
	        -> irq_domain_activate_irq()
	            ----> 对xen dom0来说这里相当于不执行
	        -> desc->irq_data.chip->irq_startup = startup_pirq()
	            -> EVTCHNOP_bind_pirq
		        通过info_for_irq(irq)->u.pirq.pirq获取pirq
			用pirq使xen hypervisor分配一个evtchn
		    -> set_evtchn_to_irq(evtchn, irq)
	                绑定evtchn与irq


PHYSDEVOP_map_pirq在xen hypervisor会申请vector写入msix table对应的位置.
msix table的地址或者msix vector的index是dom0传入的.
